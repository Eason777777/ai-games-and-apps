<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>井字棋 - Minimax AI</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/ai_difficulty.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-th"></i> 井字棋 <span class="subtitle">Minimax AI</span></h1>
        </div>

        <div class="mode-selection">
            <h2><i class="fas fa-gamepad"></i> 遊戲模式</h2>
            <div class="button-group">
                <button id="human-vs-human"><i class="fas fa-user"></i> 人類 vs 人類</button>
                <button id="human-vs-ai"><i class="fas fa-robot"></i> 人類 vs AI</button>
                <button id="ai-vs-ai"><i class="fas fa-microchip"></i> AI vs AI</button>
                <button id="view-rules"><i class="fas fa-book"></i> 遊戲規則</button>
            </div>
        </div>

        <div class="game-info">
            <div class="player-info">
                <div class="player-icon x-player">
                    <i class="fas fa-user"></i>
                </div>
                <div id="game-status">X 回合</div>
            </div>
            <div id="score">
                <div class="score-box x-score">
                    <div class="piece-icon x">X</div>
                    <span id="x-score">0</span>
                </div>
                <div class="score-divider">:</div>
                <div class="score-box o-score">
                    <div class="piece-icon o">O</div>
                    <span id="o-score">0</span>
                </div>
            </div>
        </div>

        <div id="player-symbol-selection" style="display: none;">
            <h3><i class="fas fa-palette"></i> 選擇您的符號</h3>
            <div class="symbol-selection-buttons">
                <button id="select-x" class="symbol-btn active">
                    <div class="symbol-preview x">X</div> X (先手)
                </button>
                <button id="select-o" class="symbol-btn">
                    <div class="symbol-preview o">O</div> O (後手)
                </button>
            </div>
        </div>

        <div class="ai-difficulty" id="ai-difficulty" style="display: none;">
            <h2><i class="fas fa-sliders-h"></i> AI 難度</h2>
            <div id="single-ai-difficulty" class="button-group difficulty-buttons">
                <button id="easy" class="difficulty-btn"><i class="fas fa-baby"></i> 簡單</button>
                <button id="medium" class="difficulty-btn"><i class="fas fa-user-graduate"></i> 普通</button>
                <button id="hard" class="difficulty-btn"><i class="fas fa-brain"></i> 困難</button>
                <button id="impossible" class="difficulty-btn"><i class="fas fa-robot"></i> 不可能</button>
                <button id="confirm-ai-settings" class="confirm-btn"><i class="fas fa-check-circle"></i> 確定</button>
            </div>
            <div id="ai-vs-ai-difficulty" style="display: none;">
                <div class="ai-side">
                    <h3><i class="fas fa-times"></i> X AI 難度</h3>
                    <div class="button-group difficulty-buttons">
                        <button id="x-easy" class="difficulty-btn x-ai-btn"><i class="fas fa-baby"></i> 簡單</button>
                        <button id="x-medium" class="difficulty-btn x-ai-btn"><i class="fas fa-user-graduate"></i>
                            普通</button>
                        <button id="x-hard" class="difficulty-btn x-ai-btn"><i class="fas fa-brain"></i> 困難</button>
                        <button id="x-impossible" class="difficulty-btn x-ai-btn"><i class="fas fa-robot"></i>
                            不可能</button>
                    </div>
                </div>
                <div class="ai-side">
                    <h3><i class="far fa-circle"></i> O AI 難度</h3>
                    <div class="button-group difficulty-buttons">
                        <button id="o-easy" class="difficulty-btn o-ai-btn"><i class="fas fa-baby"></i> 簡單</button>
                        <button id="o-medium" class="difficulty-btn o-ai-btn"><i class="fas fa-user-graduate"></i>
                            普通</button>
                        <button id="o-hard" class="difficulty-btn o-ai-btn"><i class="fas fa-brain"></i> 困難</button>
                        <button id="o-impossible" class="difficulty-btn o-ai-btn"><i class="fas fa-robot"></i>
                            不可能</button>
                    </div>
                </div>
                <div class="confirm-container">
                    <button id="ai-vs-ai-confirm" class="confirm-btn confirm-ai-settings"><i
                            class="fas fa-check-circle"></i> 確定</button>
                </div>
            </div>
        </div>

        <div class="board-container">
            <div id="board" class="tic-tac-toe-board">
                <div class="cell" data-index="0"></div>
                <div class="cell" data-index="1"></div>
                <div class="cell" data-index="2"></div>
                <div class="cell" data-index="3"></div>
                <div class="cell" data-index="4"></div>
                <div class="cell" data-index="5"></div>
                <div class="cell" data-index="6"></div>
                <div class="cell" data-index="7"></div>
                <div class="cell" data-index="8"></div>
            </div>
        </div>

        <div class="controls">
            <div class="game-controls">
                <button id="new-game"><i class="fas fa-redo-alt"></i> 新遊戲</button>
                <button id="undo" disabled><i class="fas fa-undo"></i> 悔棋</button>
                <button id="mute-button"><i class="fas fa-volume-up"></i> 音效：開</button>
            </div>
        </div>

        <footer class="footer">
            <p>Minimax 演算法實現 | 人工智慧導論 © 2025</p>
        </footer>
    </div>

    <div class="modal" id="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2 id="modal-title"></h2>
            <p id="modal-message"></p>
            <div id="modal-actions">
                <button id="modal-confirm">確定</button>
            </div>
        </div>
    </div>

    <script src="js/board.js"></script>
    <script src="js/ai.js"></script>
    <script src="js/audio.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/game.js"></script>
    <script>
        // 初始化音效管理器
        window.audioManager = new AudioManager();
        // 初始化存儲管理器
        window.gameStorage = new GameStorage();
        // 初始化遊戲實例
        window.game = new Game();
    </script>
</body>

</html>